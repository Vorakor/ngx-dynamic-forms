<form
  class="{{ config.formClass }}"
  role="form"
  [formGroup]="formGroup"
  (ngSubmit)="submit()"
>
  <ng-container *ngIf="!formInline">
    <ng-container *ngIf="config.formGroups">
      <ng-container *ngFor="let group of config.formGroups">
        <div class="row my-2">
          <div class="col">
            <h3>{{ group.name }}</h3>
          </div>
        </div>
        <div class="row justify-content-center my-2">
          <div class="col-3 my-2" *ngFor="let field of group.fields">
            <ngx-df-input
              [field]="getField(field)"
              [form]="formGroup"
            ></ngx-df-input>
          </div>
        </div>
      </ng-container>
    </ng-container>
    <ng-container *ngIf="!formGroups">
      <div
        *ngFor="let input of formInputs"
        class="row my-2 justify-content-center"
      >
        <div class="col">
          <ng-container
            *ngIf="input.type === 'checkbox-btn' || input.type === 'checkbox'"
          >
            <div
              class="checkbox-container"
              [ngStyle]="{
                'min-width.px': minCheckboxWidth,
                'max-width.px': maxCheckboxWidth
              }"
            >
              <ngx-df-input
                [field]="input"
                [form]="formGroup"
              ></ngx-df-input>
            </div>
          </ng-container>
          <ng-container *ngIf="input.type !== 'checkbox-btn'">
            <ngx-df-input
              [field]="input"
              [form]="formGroup"
            ></ngx-df-input>
          </ng-container>
        </div>
      </div>
    </ng-container>
    <hr *ngIf="config.footerDivider" />
    <div class="row my-2 mx-2 text-center">
      <div class="col">
        <button
          type="submit"
          class="btn btn-success"
          [disabled]="!formGroup.valid"
          [attr.disabled]="
            (config.submitBtnEnabled$ | async)
              ? null
              : (config.submitBtnEnabled$ | async) === false
              ? 'disabled'
              : null
          "
        >
          {{ config.submitBtnText ? config.submitBtnText : "Submit" }}
        </button>
      </div>
      <div class="col" *ngIf="config.resetBtn">
        <button
          type="button"
          class="btn btn-danger"
          (click)="reset()"
          [attr.disabled]="
            (config.resetBtnEnabled$ | async)
              ? null
              : (config.resetBtnEnabled$ | async) === false
              ? 'disabled'
              : null
          "
        >
          {{ config.resetBtnText ? config.resetBtnText : "Reset" }}
        </button>
      </div>
    </div>
  </ng-container>
  <ng-container *ngIf="formInline">
    <div *ngFor="let input of formInputs" class="row my-2">
      <div class="col">
        <ng-container
          *ngIf="input.type === 'checkbox-btn' || input.type === 'checkbox'"
        >
          <div
            class="checkbox-container"
            [style]="'max-width: ' + maxCheckboxWidth + 'px'"
          >
            <ngx-df-input
              [field]="input"
              [form]="formGroup"
              [formInline]="formInline"
            ></ngx-df-input>
          </div>
        </ng-container>
        <ng-container *ngIf="input.type !== 'checkbox-btn'">
          <ngx-df-input
            [field]="input"
            [form]="formGroup"
            [formInline]="formInline"
          ></ngx-df-input>
        </ng-container>
      </div>
    </div>
    <div class="row my-2 mx-2 text-center">
      <div class="col">
        <button
          type="submit"
          class="btn btn-success"
          [disabled]="!formGroup.valid"
          [attr.disabled]="
            (config.submitBtnEnabled$ | async)
              ? null
              : (config.submitBtnEnabled$ | async) === false
              ? 'disabled'
              : null
          "
        >
          {{ config.submitBtnText ? config.submitBtnText : "Submit" }}
        </button>
      </div>
      <div class="col" *ngIf="config.resetBtn">
        <button
          type="button"
          class="btn btn-danger"
          (click)="reset()"
          [attr.disabled]="
            (config.resetBtnEnabled$ | async)
              ? null
              : (config.resetBtnEnabled$ | async) === false
              ? 'disabled'
              : null
          "
        >
          {{ config.resetBtnText ? config.resetBtnText : "Reset" }}
        </button>
      </div>
    </div>
  </ng-container>
</form>
